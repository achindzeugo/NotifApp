// GET: Incident/Create
public IActionResult Create()
{
    // Remplir les ViewBag pour les sélections
    ViewBag.EquipeId = _context.Equipes.Select(e => new SelectListItem
    {
        Value = e.EquipeId.ToString(),
        Text = e.NomEquipe
    }).ToList();

    ViewBag.AppId = _context.Applicatifs.Select(a => new SelectListItem
    {
        Value = a.AppId.ToString(),
        Text = a.AppNom
    }).ToList();

    // Filtrer les criticités dont le statut est "Actif"
    ViewBag.CriticiteId = _context.Criticites
        .Where(c => c.Statut == "Actif") // Filtrer uniquement les criticités actives
        .Select(c => new SelectListItem
        {
            Value = c.CriticiteId.ToString(),
            Text = c.CriticiteNom
        }).ToList();

    ViewBag.StatutId = _context.Statuts.Select(s => new SelectListItem
    {
        Value = s.StatutId.ToString(),
        Text = s.StatutNom
    }).ToList();

    ViewBag.OrigineId = _context.Origines
        .Where(o => o.OrigineNom != null) // Filtrer les valeurs NULL
        .Select(o => new SelectListItem
        {
            Value = o.OrigineId.ToString(),
            Text = o.OrigineNom
        }).ToList();

    return View();
}




<div class="form-group">
    <label for="CriticiteId">Criticité</label>
    <select id="CriticiteId" name="CriticiteId" class="form-control">
        <option value="">-- Sélectionnez une criticité --</option>
        @foreach (var item in ViewBag.CriticiteId as List<SelectListItem>)
        {
            <option value="@item.Value">@item.Text</option>
        }
    </select>
</div>
