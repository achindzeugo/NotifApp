[HttpGet]
public IActionResult GetIncidentSummary()
{
    // Remplacez ceci par votre logique réelle pour récupérer les données
    var incidentData = _dbContext.Incidents.Select(i => new
    {
        TotalIncidents = i.TotalIncidents,
        IncidentsClos = i.IncidentsClos,
        IncidentsResolu = i.IncidentsResolu,
        CriticiteP0SansPM = i.CriticiteP0SansPM,
        CriticiteP1SansPM = i.CriticiteP1SansPM,
        CriticiteP2SansPM = i.CriticiteP2SansPM
    }).ToList();

    return Json(incidentData);
}






<div class="container mt-5">
    <h2 class="text-center">Tableau des Incidents</h2>
    <hr />
    <table id="incidentTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Total Incidents</th>
                <th>Incidents Clos</th>
                <th>Incidents Résolu</th>
                <th>Criticité P0 sans PM</th>
                <th>Criticité P1 sans PM</th>
                <th>Criticité P2 sans PM</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>






<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function () {
        $('#incidentTable').DataTable({
            ajax: {
                url: '/Homes/GetIncidentSummary', // Remplacez par l'URL de votre méthode
                dataSrc: '' // La structure des données JSON est un tableau
            },
            columns: [
                { data: 'TotalIncidents' },
                { data: 'IncidentsClos' },
                { data: 'IncidentsResolu' },
                { data: 'CriticiteP0SansPM' },
                { data: 'CriticiteP1SansPM' },
                { data: 'CriticiteP2SansPM' }
            ],
            language: {
                url: "//cdn.datatables.net/plug-ins/1.10.21/i18n/French.json" // Traduction en français
            }
        });
    });
</script>

