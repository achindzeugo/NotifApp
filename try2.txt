public IActionResult Index(string searchString)
{
    var breadcrumb = GetBreadcrumb("Index");
    ViewBag.Breadcrumb = breadcrumb;

    // Récupérer la liste des équipes
    var equipes = _context.Equipes.ToList();

    // Récupérer la liste des utilisateurs
    ViewBag.Utilisateurs = _context.Utilisateurs.ToList();

    if (!string.IsNullOrEmpty(searchString))
    {
        equipes = equipes.Where(e => e.NomEquipe.Contains(searchString, StringComparison.OrdinalIgnoreCase)).ToList();
    }

    return View(equipes);
}



<div id="userList" class="mb-4" style="display:none;">
    @if (ViewBag.Utilisateurs != null && ViewBag.Utilisateurs.Any())
    {
        @foreach (var utilisateur in ViewBag.Utilisateurs)
        {
            <div class="form-check">
                <input type="checkbox" class="form-check-input"
                       name="selectedUsers"
                       value="@utilisateur.UtilisateursID"
                       id="user_@utilisateur.UtilisateursID" />
                <label class="form-check-label" for="user_@utilisateur.UtilisateursID">
                    @utilisateur.NomUtilisateurs @utilisateur.PrenomUtilisateurs @utilisateur.AG
                </label>
            </div>
        }
    }
    else
    {
        <p class="text-muted">Aucun utilisateur disponible.</p>
    }
</div>


function filterUsers() {
    var input = document.getElementById('searchInput');
    var filter = input.value.toLowerCase();
    var userList = document.getElementById("userList");
    var checkboxes = userList.getElementsByClassName('form-check');

    // Afficher la liste des utilisateurs si une saisie est faite
    if (filter.length > 0) {
        userList.style.display = 'block';
    } else {
        userList.style.display = 'none'; // Masquer si le champ est vide
    }

    // Filtrer les utilisateurs en fonction de la saisie
    Array.from(checkboxes).forEach(function (checkbox) {
        var label = checkbox.querySelector('label');
        if (label && label.textContent.toLowerCase().includes(filter)) {
            checkbox.style.display = ''; // Afficher si correspondance
        } else {
            checkbox.style.display = 'none'; // Masquer sinon
        }
    });
}
